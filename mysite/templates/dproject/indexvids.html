{% extends "mysite/base.html" %}{% load staticfiles %}

{% block content %}
<div id="ytplayer"></div>

<script>
// Load the IFrame Player API code asynchronously.
var tag = document.createElement('script');
tag.src = "https://www.youtube.com/player_api";
var firstScriptTag = document.getElementsByTagName('script')[0];
firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

// Replace the 'ytplayer' element with an <iframe> and
// YouTube player after the API code downloads.
var player;
function onYouTubePlayerAPIReady() {
  player = new YT.Player('ytplayer', {
height: '480',
width: '100%',
videoId: '{{ vidId }}'
});
}
</script>

<div id="captions"></div>

<div>vidId: {{ vidId }}</div>
{% if v %}
<div>db v: {{ v }}</div>
{% else%}
db v: unavailable
{% endif %}

<div id="submitted_transcripts">
<h2>Transcript</h2>
<ul id="transcript">
  {% for x in t %}
  <li>{{ x.transcript }}</li>
  {% empty %}
  <h2>Zero transcripts</h2>
  {% endfor %}
</ul>
</div>

<!-- begin form testing -->
<h2>Add transcript</h2>
<p>
{% if user.is_authenticated %}
<form action="" method="post">
  {% csrf_token %}
  {{ formtest.transcript }}
  <br />
  <p>Your default language: {{ languages_array.language }}</p>
  <input type="submit" value="Submit transcript" />
</form

{% else %}
<a href="/accounts/login/?next={{request.path}}">Log in to add your own transcript.</a>
{% endif %}
</p>
<!-- end form testing -->

<hr />

<div id="Viewer">
  Select transcript
</div>
<div id="Editor">
  Select language from dropdown / type in autocomplete<br />
  Select time | Text (with character limit) | Duration<br />
</div>
<div id="starp">Start / Stop</div>
<div id="skipBack">Skip back 1 second</div>
<div id="timeStamp"></div>
<div id="timeClick">Click for time display [test]</div>
<div id="vidCode">vidCode</div>
<div id="returnYT">returnYT</div>

<!--<div id="transcriptEdit">-->
<!--<div id="transcriptLine1">This a test of the CamStudio microphone.</div>-->
<!--<div id="transcriptLine2">It's just dangling from my ear.</div>-->
<!--<div id="transcriptLine3">Um, this is how we learn math.</div>-->
<!--<div id="transcriptLine4">Whoops!</div>-->
<!--<div id="transcriptLine5">Let's click click click delete "h."</div>-->
<!--<div id="transcriptLine6">Good.</div>-->
<!--<div id="transcriptLine7">Is it not recording?</div>-->
<!--</div>-->
<!-- DB views, template to access views, some kind of forms, validation of forms, key to access DB, {views: vid key from URL + ID, user or anon, language, chunk of transcript with times and content, rating},  -->
<hr />
<div>
  <p>Available transcripts</p>
  <p>Edit your existing transcript</p>
  <p>Rate +/-</p>
  <p>When in edit mode, shrink vid 50%</p>
  <p>database info</p>
  <p>database info</p>
</div>


{% endblock content %}
